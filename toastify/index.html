<div class="toastify">
  <div id="fui-toast"></div>
  <button>show toast!</button>
</div>

.toastify #fui-toast button show toast! /* Reset css */ *, *:before, *:after {
box-sizing: border-box; } * { margin: 0; padding: 0; font: inherit; } img,
picture, svg, video { display: block; max-width: 100%; } body { min-height:
100vh; } /* End reset css */ #fui-toast { position: fixed; inset: 32px; z-index:
999999999999; pointer-events: none; } .fui-toast { position: absolute; top: 0;
left: 0; right: 0; z-index: 9999; display: flex; justify-content: flex-end;
transition: all 230ms cubic-bezier(0.21, 1.02, 0.73, 1) 0s; }
.fui-toast.top-eff-show .fui-toast-box { animation: 0.35s cubic-bezier(0.21,
1.02, 0.73, 1) 0s 1 normal forwards running slideTopShow; }
.fui-toast.top-eff-hidden { z-index: 0; isolation: isolate; }
.fui-toast.top-eff-hidden .fui-toast-box { animation: 0.45s cubic-bezier(0.06,
0.71, 0.55, 1) 0s 1 normal forwards running slideTopHidden; } .fui-toast-success
.fui-toast-icon svg { color: #1DC071; } .fui-toast-error .fui-toast-icon svg {
color: #ef4444; } .fui-toast-info .fui-toast-icon svg { color: #0ea5e9; }
.fui-toast-warning .fui-toast-icon svg { color: #f59e0b; } .fui-toast
.fui-toast-box { position: relative; display: flex; flex-direction: column;
pointer-events: auto; min-width: 200px; max-width: 450px; background-color:
#fff; border-radius: 8px; padding: 16px; will-change: transform; transition: all
230ms cubic-bezier(0.21, 1.02, 0.73, 1) 0s; box-shadow: 0 10px 15px -3px
rgba(27, 27, 27, 0.1), 0 4px 6px -4px rgba(27, 27, 27, 0.1); } .fui-toast
.fui-toast-box::before { content: ""; position: absolute; left: 0; bottom: 100%;
width: 100%; height: var(--fui-toast-spacing); } .fui-toast
.fui-toast-box.iconCss { padding-left: 48px; } .fui-toast .fui-toast-box.custom2
{ padding-right: 54px; } .fui-toast .fui-toast-box.custom2.iconCss {
padding-left: 56px; } .fui-toast .fui-toast-box.custom2 .fui-toast-head {
margin-bottom: unset; } .fui-toast .fui-toast-box.custom2 .fui-toast-close {
position: absolute; top: 16px; right: 16px; } .fui-toast .fui-toast-head {
display: flex; justify-content: space-between; align-items: center;
margin-bottom: 8px; } .fui-toast .fui-toast-title { font-weight: 500; }
.fui-toast .fui-toast-close { position: relative; margin-left: auto; cursor:
pointer; padding: 4px; border-radius: 4px; transition: all 0.25s linear; }
.fui-toast .fui-toast-close::before { content: ""; position: absolute; top:
-10px; right: -10px; width: 40px; height: 42px; } .fui-toast
.fui-toast-close:hover { background-color: #e5e7eb; } .fui-toast
.fui-toast-close:hover svg { color: #374151; } .fui-toast .fui-toast-close svg {
width: 14px; height: 14px; transition: all 0.25s linear; color: #9ca3af; }
.fui-toast .fui-toast-icon { position: absolute; top: 16px; left: 16px; width:
24px; height: 24px; font-size: 18px; animation: zoomInCenter 0.3s 0.12s
cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; } .fui-toast .fui-toast-body {
line-height: 24px; } @keyframes slideTopShow { 0% { transform: translate3d(0,
-200%, 0) scale(0.6); opacity: 0.5; } 100% { transform: translate3d(0, 0, 0)
scale(1); opacity: 1; } } @keyframes slideTopHidden { 0% { transform:
translate3d(0, 0, -1px) scale(1); opacity: 1; } 100% { transform: translate3d(0,
-150%, -1px) scale(0.6); opacity: 0; } } @keyframes zoomInCenter { 0% {
transform: scale(0.6); opacity: 0.4; } 100% { transform: scale(1); opacity: 1; }
} /*# sourceMappingURL=app.css.map */ /* Reset css */ *, *:before, *:after {
box-sizing: border-box; } * { margin: 0; padding: 0; font: inherit; } img,
picture, svg, video { display: block; max-width: 100%; } body { min-height:
100vh; } /* End reset css */ // // // // // // #fui-toast { position: fixed;
inset: 32px; z-index: 999999999999; pointer-events: none; } .fui-toast {
position: absolute; top: 0; left: 0; right: 0; z-index: 9999; display: flex;
justify-content: flex-end; transition: all 230ms cubic-bezier(0.21, 1.02, 0.73,
1) 0s; &.top-eff { &-show { .fui-toast-box { animation: 0.35s cubic-bezier(0.21,
1.02, 0.73, 1) 0s 1 normal forwards running slideTopShow; } } &-hidden {
z-index: 0; isolation: isolate; .fui-toast-box { animation: 0.45s
cubic-bezier(0.06, 0.71, 0.55, 1) 0s 1 normal forwards running slideTopHidden; }
} } &-success { .fui-toast-icon svg { color: #1DC071; } } &-error {
.fui-toast-icon svg { color: #ef4444; } } &-info { .fui-toast-icon svg { color:
#0ea5e9; } } &-warning { .fui-toast-icon svg { color: #f59e0b; } }
.fui-toast-box { position: relative; display: flex; flex-direction: column;
pointer-events: auto; min-width: 200px; max-width: 450px; background-color:
#fff; border-radius: 8px; padding: 16px; will-change: transform; transition: all
230ms cubic-bezier(0.21, 1.02, 0.73, 1) 0s; box-shadow: 0 10px 15px -3px
rgba(27, 27, 27, 0.1), 0 4px 6px -4px rgba(27, 27, 27, 0.1); &::before {
content: ""; position: absolute; left: 0; bottom: 100%; width: 100%; height:
var(--fui-toast-spacing); } &.iconCss { padding-left: 48px; } &.custom2 {
padding-right: 54px; &.iconCss { padding-left: 56px; } .fui-toast-head {
margin-bottom: unset; } .fui-toast-close { position: absolute; top: 16px; right:
16px; } } } .fui-toast-head { display: flex; justify-content: space-between;
align-items: center; margin-bottom: 8px; } .fui-toast-title { font-weight: 500;
} .fui-toast-close { position: relative; margin-left: auto; cursor: pointer;
padding: 4px; border-radius: 4px; transition: all 0.25s linear; &::before {
content: ""; position: absolute; top: -10px; right: -10px; width: 40px; height:
42px; } &:hover { background-color: #e5e7eb; svg { color: #374151; } } svg {
width: 14px; height: 14px; transition: all 0.25s linear; color: #9ca3af; } }
.fui-toast-icon { position: absolute; top: 16px; left: 16px; width: 24px;
height: 24px; font-size: 18px; animation: zoomInCenter 0.3s 0.12s
cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; } .fui-toast-body {
line-height: 24px; } } @keyframes slideTopShow { 0% { transform: translate3d(0,
-200%, 0) scale(0.6); opacity: 0.5; } 100% { transform: translate3d(0, 0, 0)
scale(1); opacity: 1; } } @keyframes slideTopHidden { 0% { transform:
translate3d(0, 0, -1px) scale(1); opacity: 1; } 100% { transform: translate3d(0,
-150%, -1px) scale(0.6); opacity: 0; } } @keyframes zoomInCenter { 0% {
transform: scale(0.6); opacity: 0.4; } 100% { transform: scale(1); opacity: 1; }
}
-----

          
!(function (e, t) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = t())
    : "function" == typeof define && define.amd
    ? define([], t)
    : "object" == typeof exports
    ? (exports.FuiToast = t())
    : (e.FuiToast = t());
})(this, function () {
  return (function () {
    /* ======================================== constant ======================================== */
    const TOAST_EXPIRE_DISMISS_DELAY = 450;
    /* ======================================== end constant ======================================== */

    /* ======================================== html template ======================================== */
    const toastHtml = ({ title, message, icon, isClose }) => `
<div class="fui-toast-box${icon ? " iconCss" : ""}${
      !title && isClose ? " custom2" : ""
    }">
  ${
    isClose || title
      ? `<div class="fui-toast-head">
      ${title ? `<h3 class="fui-toast-title">${title}</h3>` : ""}
      ${
        isClose
          ? `<div class="fui-toast-close"><svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M393.4 41.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L269.3 256 438.6 425.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 301.3 54.6 470.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0L224 210.7 393.4 41.4z"/></svg></div>`
          : ""
      }
    </div>`
      : ""
  }

    ${icon ? `<div class="fui-toast-icon">${icon}</div>` : ""}
  <div class="fui-toast-body">
    ${message}
  </div>
</div>
`;

    /* ======================================== end html template ======================================== */

    /* ======================================== data template ======================================== */
    const toastStatus = {
      success: {
        className: "fui-toast-success",
        icon: '<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"></path></svg>',
      },
      error: {
        className: "fui-toast-error",
        icon: '<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',
      },
      info: {
        className: "fui-toast-info",
        icon: '<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"></path></svg>',
      },
      warning: {
        className: "fui-toast-warning",
        icon: '<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm24-384v24V264v24H232V264 152 128h48zM232 368V320h48v48H232z"></path></svg>',
      },
    };
    /* ======================================== end data template ======================================== */

    /* ======================================== function ======================================== */
    function createId() {
      function S4() {
        return ((1 + Math.random()) * 0x10000 || 0).toString(16).substring(1);
      }
      return `${
        S4() + S4()
      }-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}${Date.now()}`;
    }
    /* ======================================== end function ======================================== */

    /* ======================================== toast classes ======================================== */
    class Toast {
      #mainEl;

      /* ************ Property ************ */

      #toasts = [];

      #pausedAt;

      #timeouts = [];

      #dismissTimeouts = new Map();

      #spacing = 16;

      #options = {
        duration: 3000,
      };

      /* ************ End Property ************ */

      /* ************ Setter ************ */

      set options(opts) {
        this.#options = {
          ...this.#options,
          ...opts,
        };
      }

      /* ************ End Setter ************ */

      /* ************ End Property ************ */

      constructor() {
        document.documentElement.style.setProperty(
          "--fui-toast-spacing",
          `${this.#spacing}px`
        );
      }

      /* ************ Method ************ */
      addToast(data) {
        const toastData = {
          ...this.#options,
          ...data,
        };

        this.#toasts.unshift(toastData);

        // get element toast trong DOM

        const toast = this.#createToast(toastData);

        if (!this.#mainEl) {
          this.#mainEl = document.getElementById("fui-toast");
        }

        // Thêm toast vào DOM
        this.#mainEl?.prepend(toast);

        this.#insertToast();

        this.#updateDuration();

        this.#toastsPause();

        return this;
      }

      /* **************************************************************************** */

      #createToast = (data) => {
        const toast = document.createElement("div");
        toast.className = `fui-toast top-eff-show ${data.className ?? ""}`;
        toast.dataset.id = data.id;
        const message =
          typeof data.message === "function"
            ? data.message(data)
            : data.message;

        toast.innerHTML = toastHtml({
          title: data.title,
          message,
          icon: data.icon,
          isClose: data.isClose,
        });

        if (data.isClose) {
          this.#closeToast(data.id, toast);
        }

        return toast;
      };

      /* **************************************************************************** */

      #getToast = (id) => {
        const toast = this.#mainEl?.querySelector(`[data-id="${id}"]`);
        return toast;
      };

      #insertToast = () => {
        let spacingTop = 0;
        this.#toasts.forEach((toast, i) => {
          const toastEl = this.#getToast(toast.id);
          toastEl?.setAttribute(
            "style",
            `transform: translateY(${i * this.#spacing + spacingTop}px)`
          );

          spacingTop += toastEl?.scrollHeight || 0;
        });
        return this;
      };

      /* **************************************************************************** */

      #closeToast = (id, toastEl) => {
        const btnClose = toastEl.querySelector(".fui-toast-close");

        // btnClose?.addEventListener('click', closeFunc);
        btnClose.onclick = () => {
          this.dismiss(id);
          this.#toasts = this.#toasts.filter((toast) => toast.id !== id);
          this.#insertToast();
        };

        return this;
      };

      /* **************************************************************************** */

      #updateDuration = (pausedAt) => {
        // existTime kiểm tra nếu có timeout trong danh sách
        const existTime = this.#timeouts.length !== 0;

        if (existTime) {
          // Mỗi khi hàm updateDuration được gọi thì luôn cleartimeout
          this.#timeouts.forEach((timeout) => timeout && clearTimeout(timeout));
          this.#timeouts = [];
        }

        if (pausedAt) {
          // Trả luôn về this nếu bị dừng tạm thời, để logic tiếp theo ko hoạt động

          /* const { dismissTimeouts } = this;
      if (dismissTimeouts.size !== 0) {
        dismissTimeouts.forEach((value, key) => {
          this.clearFromRemoveQueue(key);
          return value;
        });
      } */

          return this;
        }

        // Logic dưới sẽ chạy nếu pauseAt không có giá trị
        const now = Date.now();

        const timeouts = this.#toasts.map((t) => {
          // Không set timout nếu duration toast là vô hạn.
          if (t.duration === Infinity) {
            return null;
          }

          // durationLeft là khoảng thời gian của toast được tính toán lại khi update settimeout mới (cộng dồn với cả thời gian dừng lại)
          const durationLeft =
            (t.duration || 0) + t.pauseDuration - (now - t.createdAt);

          if (durationLeft < 0) {
            this.dismiss(t.id);
            return null;
          }

          // Set khoảng thời gian chuẩn bị chạy hàm thủ tục để loại bỏ toast (dismiss)
          return setTimeout(() => this.dismiss(t.id), durationLeft);
        });

        this.#timeouts = timeouts;
        return this;
      };

      /* **************************************************************************** */

      #toastsPause = () => {
        // Thêm sự kiện pause duration cho toast

        this.#mainEl.onmouseenter = this.#startPause;
        this.#mainEl.onmouseleave = this.#endPause;
        // Thêm sự kiện pause duration cho toast

        return this;
      };

      #startPause = () => {
        const now = Date.now();
        this.#pausedAt = now;
        this.#updateDuration(this.#pausedAt);
        return this;
      };

      #endPause = () => {
        const now = Date.now();
        const diff = now - (this.#pausedAt || 0);

        this.#toasts = this.#toasts.map((toast) => ({
          ...toast,
          pauseDuration: toast.pauseDuration + diff,
        }));

        this.#pausedAt = undefined;

        this.#updateDuration(this.#pausedAt);
        return this;
      };

      /* **************************************************************************** */

      dismiss = (id) => {
        const toast = this.#getToast(id);

        if (toast) {
          toast.classList.add("top-eff-hidden");
          this.#addToRemoveQueue(id);
        }

        return this;
      };

      /* **************************************************************************** */

      #addToRemoveQueue = (id) => {
        if (this.#dismissTimeouts.has(id)) {
          return this;
        }

        const timeout = setTimeout(() => {
          this.#dismissTimeouts.delete(id);

          this.#removeToast(id);
        }, TOAST_EXPIRE_DISMISS_DELAY);

        this.#dismissTimeouts.set(id, timeout);

        return this;
      };

      /* **************************************************************************** */

      #clearFromRemoveQueue = (id) => {
        const timeout = this.#dismissTimeouts.get(id);
        if (timeout) {
          clearTimeout(timeout);
          this.#dismissTimeouts.delete(id);
        }
        return this;
      };

      /* **************************************************************************** */

      #removeToast = (id) => {
        const toastEl = this.#getToast(id);
        const toastData = this.#toasts;

        const toastRemaining = [];
        let isInsert = false;

        if (toastEl) {
          toastData.forEach((toast) => {
            if (toast.id !== id) {
              toastRemaining.push(toast);
            } else {
              isInsert = true;
            }
          });

          this.#toasts = toastRemaining;

          if (isInsert) {
            this.#insertToast();
          }

          this.#mainEl?.removeChild(toastEl);
        }

        return this;
      };
      /* ************ End Method ************ */
    }
    /* ======================================== end toast classes ======================================== */

    const toastBase = new Toast();
    // end create object toast

    const toastStore = {
      blank: toastBase,
      success: toastBase,
      error: toastBase,
      info: toastBase,
      warning: toastBase,
    };

    // Tạo dữ liệu cho toast
    const createToast = (message, type, opts) => ({
      message,
      type,
      createdAt: Date.now(),
      pauseDuration: 0,
      ...opts,
      id: opts?.id || createId(),
    });
    // end Tạo dữ liệu cho toast

    const createHandler = (type) => (message, opts) => {
      let options = opts;

      const status = toastStatus[type];

      if (status) {
        options = {
          ...(opts || {}),
          icon: opts?.icon || status.icon,
          className: opts?.className || status.className,
        };
      }

      const toast = createToast(message, type, options);

      const toastClasses = toastStore[type].addToast(toast);
      return toastClasses;
    };

    const toast = (message, opts) => createHandler("blank")(message, opts);

    toast.success = createHandler("success");
    toast.error = createHandler("error");
    toast.info = createHandler("info");
    toast.warning = createHandler("warning");

    toast.configs = (opts) => {
      toastBase.options = opts;
      return opts;
    };

    return toast;
  })();
});

          

/* ************ Using Toast ************ */
FuiToast.configs({
  icon: `😍`,
});

document.querySelector(".toastify button").onclick = () =>
  FuiToast("Fui Basic toasted!", { isClose: true });

        